{{ $button := .Get "button"}}
{{ $data_icon := "mark-github" }}
{{ $aria_label := "" }}
{{ $button_text := "" }}
{{ $href := "" }}

{{if eq $button "follow"}}
    {{ $href = printf "%s" (.Get "user")}}
    {{ $aria_label = printf "Follow @%s on GitHub" (.Get "user") }}
    {{ $button_text = printf "Follow @%s" (.Get "user") }}
{{else if eq $button "star"}}
    {{ $href = printf "%s/%s/" (.Get "user") (.Get "repo")}}
    {{ $data_icon = "star" }}
    {{ $aria_label = printf "Star %s/%s on GitHub" (.Get "user") (.Get "repo")}}
    {{ $button_text = "Star" }}
{{end}}

<a 
    class="github-button" 
    href="https://github.com/{{$href}}"
    data-icon="octicon-{{$data_icon}}"
    aria-label="{{$aria_label}}"
    {{ with .Get "count"}} data-show-count="{{.}}"{{ end }} 
>
{{$button_text}}
</a>